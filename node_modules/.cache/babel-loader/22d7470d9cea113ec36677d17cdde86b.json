{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TXY1572\\\\darthsanity\\\\capstone\\\\frontend\\\\react-paws-app\\\\react-boilerplate\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Route, Link, withRouter } from 'react-router-dom'; //apihelper functions\n\nimport { registerUser, loginUser, verifyUser, editUser, addCritter, fetchCrittersByUser, fetchAllPosts } from './services/apihelper'; //custom components\n\nimport Login from './Components/Users/Login';\nimport Register from './Components/Users/Register';\nimport PostContainer from './Components/Posts/PostContainer';\nimport ProfileContainer from './Components/Profiles/ProfileContainer';\nimport AddAnimal from './Components/Animals/AddAnimal';\nimport AnimalProfile from './Components/Profiles/AnimalProfile';\nimport ShowPost from './Components/Posts/ShowPost';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.pageSetup = async currentUser => {\n      let animals;\n\n      if (currentUser) {\n        animals = await fetchCrittersByUser(this.state.currentUser.id);\n        const posts = await fetchAllPosts();\n        console.log(animals);\n        this.setState({\n          animals: animals,\n          posts: posts\n        });\n      }\n    };\n\n    this.handleRegister = async (e, user) => {\n      e.preventDefault();\n      const loadedUser = await registerUser(user);\n      this.setState({\n        currentUser: loadedUser\n      });\n      this.props.history.push('/profile');\n    };\n\n    this.handleLogin = async (e, user) => {\n      e.preventDefault();\n      const loadedUser = await loginUser(user);\n      this.setState({\n        currentUser: loadedUser\n      });\n      this.props.history.push('/');\n    };\n\n    this.handleLogout = () => {\n      this.setState({\n        currentUser: null\n      });\n      localStorage.removeItem('authToken');\n      this.props.history.push('/');\n    };\n\n    this.handleEdit = async (e, values) => {\n      e.preventDefault();\n      const editedUser = await editUser(this.state.currentUser.id, values);\n      this.setState({\n        currentUser: editedUser\n      });\n      this.props.history.push('/profile');\n    };\n\n    this.addAnimal = async (e, values) => {\n      e.prevenDefault();\n      const newCritter = await addCritter(values);\n      console.log(newCritter);\n      this.setState({\n        animals: newCritter\n      });\n      this.props.history.push('/profile');\n    };\n\n    this.state = {\n      currentUser: null,\n      animals: null,\n      posts: null\n    };\n  }\n\n  async componentDidMount() {\n    const currentUser = await verifyUser();\n\n    if (currentUser) {\n      this.setState({\n        currentUser: currentUser\n      });\n      console.log(currentUser);\n      this.pageSetup(currentUser);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, this.state.currentUser ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Logout\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, \"SignUp\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"Login\")), this.state.currentUser && /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 40\n      }\n    }, \"Profile\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, \"Home\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(Register, {\n          handleSubmit: this.handleRegister,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 20\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(Login, {\n          handleSubmit: this.handleLogin,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 20\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 20\n          }\n        }, this.state.currentUser && /*#__PURE__*/React.createElement(ProfileContainer, {\n          user: this.state.currentUser,\n          handleEdit: this.handleEdit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 42\n          }\n        }));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(PostContainer, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 20\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }), this.state.currentUser && /*#__PURE__*/React.createElement(Route, {\n      path: \"/animal/create\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(AddAnimal, {\n          handleSubmit: this.addAnimal,\n          user: this.state.currentUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 30\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }), this.state.animals && this.state.animals.map(critter => {\n      return /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/animal/show/:id\",\n        render: props => {\n          return /*#__PURE__*/React.createElement(AnimalProfile, {\n            critter: critter,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 22\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 20\n        }\n      });\n    }), this.state.posts && this.state.posts.map(post => {\n      return /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/post/show/:id\",\n        render: props => {\n          return /*#__PURE__*/React.createElement(ShowPost, {\n            post: post,\n            destroyPost: this.destroyPost,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 26\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 22\n        }\n      });\n    })));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["C:/Users/TXY1572/darthsanity/capstone/frontend/react-paws-app/react-boilerplate/src/App.js"],"names":["React","Component","Route","Link","withRouter","registerUser","loginUser","verifyUser","editUser","addCritter","fetchCrittersByUser","fetchAllPosts","Login","Register","PostContainer","ProfileContainer","AddAnimal","AnimalProfile","ShowPost","App","constructor","props","pageSetup","currentUser","animals","state","id","posts","console","log","setState","handleRegister","e","user","preventDefault","loadedUser","history","push","handleLogin","handleLogout","localStorage","removeItem","handleEdit","values","editedUser","addAnimal","prevenDefault","newCritter","componentDidMount","render","map","critter","post","destroyPost"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,UAAtB,QAAwC,kBAAxC,C,CAEA;;AACA,SAAQC,YAAR,EAAsBC,SAAtB,EAAiCC,UAAjC,EAA6CC,QAA7C,EAAuDC,UAAvD,EAAmEC,mBAAnE,EAAwFC,aAAxF,QAA6G,sBAA7G,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,gBAAP,MAA6B,wCAA7B;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,OAAOC,QAAP,MAAqB,6BAArB;;AAEA,MAAMC,GAAN,SAAkBlB,SAAlB,CAA4B;AAC1BmB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASrBC,SATqB,GAST,MAAMC,WAAN,IAAsB;AAChC,UAAIC,OAAJ;;AACA,UAAGD,WAAH,EAAgB;AACZC,QAAAA,OAAO,GAAG,MAAOd,mBAAmB,CAAC,KAAKe,KAAL,CAAWF,WAAX,CAAuBG,EAAxB,CAApC;AACA,cAAMC,KAAK,GAAG,MAAOhB,aAAa,EAAlC;AACAiB,QAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACA,aAAKM,QAAL,CAAc;AACZN,UAAAA,OAAO,EAAEA,OADG;AAEZG,UAAAA,KAAK,EAAEA;AAFK,SAAd;AAID;AACF,KApBkB;;AAAA,SAuBrBI,cAvBqB,GAuBJ,OAAOC,CAAP,EAAUC,IAAV,KAAmB;AAClCD,MAAAA,CAAC,CAACE,cAAF;AACA,YAAMC,UAAU,GAAG,MAAM9B,YAAY,CAAC4B,IAAD,CAArC;AACA,WAAKH,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAEY;AADD,OAAd;AAGA,WAAKd,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,KA9BoB;;AAAA,SAgCrBC,WAhCqB,GAgCP,OAAON,CAAP,EAAUC,IAAV,KAAmB;AAC/BD,MAAAA,CAAC,CAACE,cAAF;AACA,YAAMC,UAAU,GAAG,MAAM7B,SAAS,CAAC2B,IAAD,CAAlC;AACA,WAAKH,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAEY;AADD,OAAd;AAGA,WAAKd,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KAvCoB;;AAAA,SAyCrBE,YAzCqB,GAyCN,MAAM;AACnB,WAAKT,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAE;AADD,OAAd;AAGAiB,MAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACA,WAAKpB,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KA/CoB;;AAAA,SAiDrBK,UAjDqB,GAiDR,OAAOV,CAAP,EAAUW,MAAV,KAAoB;AAC/BX,MAAAA,CAAC,CAACE,cAAF;AACA,YAAMU,UAAU,GAAG,MAAMpC,QAAQ,CAAC,KAAKiB,KAAL,CAAWF,WAAX,CAAuBG,EAAxB,EAA4BiB,MAA5B,CAAjC;AACA,WAAKb,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAEqB;AADD,OAAd;AAGA,WAAKvB,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,KAxDoB;;AAAA,SA0DrBQ,SA1DqB,GA0DT,OAAOb,CAAP,EAAUW,MAAV,KAAqB;AAC/BX,MAAAA,CAAC,CAACc,aAAF;AACA,YAAMC,UAAU,GAAG,MAAMtC,UAAU,CAACkC,MAAD,CAAnC;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAYkB,UAAZ;AACA,WAAKjB,QAAL,CAAc;AACVN,QAAAA,OAAO,EAAEuB;AADC,OAAd;AAGA,WAAK1B,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,KAlEoB;;AAEf,SAAKZ,KAAL,GAAa;AACXF,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,OAAO,EAAE,IAFE;AAGXG,MAAAA,KAAK,EAAE;AAHI,KAAb;AAKD;;AA6DL,QAAMqB,iBAAN,GAA0B;AACxB,UAAMzB,WAAW,GAAG,MAAMhB,UAAU,EAApC;;AACA,QAAGgB,WAAH,EAAgB;AACd,WAAKO,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGAK,MAAAA,OAAO,CAACC,GAAR,CAAYN,WAAZ;AACA,WAAKD,SAAL,CAAeC,WAAf;AACD;AACF;;AAGC0B,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWF,WAAX,gBACD;AAAQ,MAAA,OAAO,EAAE,KAAKgB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,gBAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CAHJ,EAQG,KAAKd,KAAL,CAAWF,WAAX,iBAA0B,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAR7B,eASE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,CADF,CADF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,WAAZ;AAAwB,MAAA,MAAM,EAAE,MAAM;AACpC,4BAAO,oBAAC,QAAD;AAAU,UAAA,YAAY,EAAE,KAAKQ,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACC,OAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAME,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,MAAM,EAAE,MAAM;AACjC,4BAAO,oBAAC,KAAD;AAAO,UAAA,YAAY,EAAE,KAAKO,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACC,OAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAWE,oBAAC,KAAD;AAAQ,MAAA,IAAI,EAAC,UAAb;AAAwB,MAAA,MAAM,EAAE,MAAM;AACpC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACJ,KAAKb,KAAL,CAAWF,WAAX,iBAA0B,oBAAC,gBAAD;AAAkB,UAAA,IAAI,EAAE,KAAKE,KAAL,CAAWF,WAAnC;AAAgD,UAAA,UAAU,EAAE,KAAKmB,UAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADtB,CAAP;AAGC,OAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAkBE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAsB,MAAA,MAAM,EAAE,MAAM;AAClC,4BAAO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACC,OAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,EAuBG,KAAKjB,KAAL,CAAWF,WAAX,iBACC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,gBAAZ;AAA6B,MAAA,MAAM,EAAE,MAAM;AACjC,4BAAO,oBAAC,SAAD;AAAW,UAAA,YAAY,EAAE,KAAKsB,SAA9B;AACP,UAAA,IAAI,EAAE,KAAKpB,KAAL,CAAWF,WADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAET,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBJ,EA8BG,KAAKE,KAAL,CAAWD,OAAX,IAAsB,KAAKC,KAAL,CAAWD,OAAX,CAAmB0B,GAAnB,CAAuBC,OAAO,IAAI;AACvD,0BAAO,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,kBAAlB;AAAqC,QAAA,MAAM,EAAG9B,KAAD,IAAW;AAC7D,8BAAO,oBAAC,aAAD;AAAe,YAAA,OAAO,EAAE8B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,SAFQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAGD,KAJsB,CA9BzB,EAoCG,KAAK1B,KAAL,CAAWE,KAAX,IAAoB,KAAKF,KAAL,CAAWE,KAAX,CAAiBuB,GAAjB,CAAqBE,IAAI,IAAI;AAC9C,0BAAO,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,gBAAlB;AAAmC,QAAA,MAAM,EAAG/B,KAAD,IAAW;AACzD,8BAAO,oBAAC,QAAD;AACH,YAAA,IAAI,EAAE+B,IADH;AAEH,YAAA,WAAW,EAAE,KAAKC,WAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAIH,SALM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAMH,KAPoB,CApCvB,CAhBF,CADF;AAiED;;AAnJyB;;AAuJ5B,eAAejD,UAAU,CAACe,GAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\n\r\n//apihelper functions\r\nimport {registerUser, loginUser, verifyUser, editUser, addCritter, fetchCrittersByUser, fetchAllPosts } from './services/apihelper'\r\n\r\n//custom components\r\nimport Login from './Components/Users/Login';\r\nimport Register from './Components/Users/Register';\r\nimport PostContainer from './Components/Posts/PostContainer';\r\nimport ProfileContainer from './Components/Profiles/ProfileContainer';\r\nimport AddAnimal from './Components/Animals/AddAnimal';\r\nimport AnimalProfile from './Components/Profiles/AnimalProfile';\r\nimport ShowPost from './Components/Posts/ShowPost'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      this.state = {\r\n        currentUser: null,\r\n        animals: null,\r\n        posts: null,\r\n      }\r\n    }\r\n\r\npageSetup = async(currentUser) => {\r\n  let animals;\r\n  if(currentUser) {\r\n      animals = await (fetchCrittersByUser(this.state.currentUser.id));\r\n      const posts = await (fetchAllPosts());\r\n      console.log(animals);\r\n      this.setState({\r\n        animals: animals,\r\n        posts: posts\r\n      })\r\n    }\r\n  }\r\n\r\n\r\nhandleRegister = async (e, user) => {\r\n  e.preventDefault();\r\n  const loadedUser = await registerUser(user);\r\n  this.setState({\r\n    currentUser: loadedUser\r\n  })\r\n  this.props.history.push('/profile');\r\n}\r\n\r\nhandleLogin = async (e, user) => {\r\n  e.preventDefault();\r\n  const loadedUser = await loginUser(user);\r\n  this.setState({\r\n    currentUser: loadedUser\r\n  })\r\n  this.props.history.push('/');\r\n}\r\n\r\nhandleLogout = () => {\r\n  this.setState({\r\n    currentUser: null\r\n  })\r\n  localStorage.removeItem('authToken');\r\n  this.props.history.push('/');\r\n}\r\n\r\nhandleEdit = async (e, values)=> {\r\n  e.preventDefault();\r\n  const editedUser = await editUser(this.state.currentUser.id, values);\r\n  this.setState({\r\n    currentUser: editedUser\r\n  })\r\n  this.props.history.push('/profile');\r\n}\r\n\r\naddAnimal = async (e, values) => {\r\n  e.prevenDefault();\r\n  const newCritter = await addCritter(values);\r\n  console.log(newCritter);\r\n  this.setState({\r\n      animals: newCritter\r\n  })\r\n  this.props.history.push('/profile')\r\n}\r\n\r\nasync componentDidMount() {\r\n  const currentUser = await verifyUser();\r\n  if(currentUser) {\r\n    this.setState({\r\n      currentUser: currentUser,\r\n    })\r\n    console.log(currentUser);\r\n    this.pageSetup(currentUser);\r\n  }\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header>\r\n          <nav>\r\n              {this.state.currentUser ? \r\n              <button onClick={this.handleLogout}>Logout</button> : (\r\n              <div>\r\n                <Link to=\"/register\">SignUp</Link>\r\n                <Link to=\"/login\">Login</Link>\r\n              </div>\r\n            )}\r\n            {this.state.currentUser && <Link to=\"/profile\">Profile</Link>}\r\n            <Link to=\"/\">Home</Link>\r\n          </nav>\r\n        </header>\r\n        \r\n\r\n        <div>\r\n          <Route path=\"/register\" render={() => {\r\n            return <Register handleSubmit={this.handleRegister} />\r\n            }}\r\n          />\r\n          \r\n          <Route path=\"/login\" render={() => {\r\n            return <Login handleSubmit={this.handleLogin} />\r\n            }}\r\n          />\r\n          \r\n          <Route  path=\"/profile\" render={() => {\r\n            return <div>\r\n              {this.state.currentUser && <ProfileContainer user={this.state.currentUser} handleEdit={this.handleEdit} />}\r\n            </div>\r\n            }}\r\n          />\r\n\r\n          <Route exact path=\"/\" render={() => {\r\n            return <PostContainer />\r\n            }}\r\n          />\r\n\r\n          {this.state.currentUser &&\r\n            <Route path='/animal/create' render={() => {\r\n                      return <AddAnimal handleSubmit={this.addAnimal}\r\n                      user={this.state.currentUser}/>\r\n            }}/>\r\n          }\r\n\r\n          {this.state.animals && this.state.animals.map(critter => {\r\n            return <Route exact path='/animal/show/:id' render={(props) => {\r\n              return <AnimalProfile critter={critter} />\r\n          }}/>\r\n          })}\r\n\r\n          {this.state.posts && this.state.posts.map(post => { \r\n              return <Route exact path='/post/show/:id' render={(props) => {\r\n                  return <ShowPost \r\n                      post={post} \r\n                      destroyPost={this.destroyPost}\r\n                  />\r\n              }}/>\r\n          })}\r\n          \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(App);\r\n"]},"metadata":{},"sourceType":"module"}