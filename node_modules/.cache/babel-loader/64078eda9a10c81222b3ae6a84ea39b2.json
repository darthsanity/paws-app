{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TXY1572\\\\darthsanity\\\\capstone\\\\frontend\\\\react-paws-app\\\\react-boilerplate\\\\src\\\\Components\\\\Profiles\\\\AnimalProfileContainer.js\";\nimport React, { Component } from 'react';\nimport { fetchCrittersByUser, fetchCritterDescription, verifyUser, addCritter, deleteCritter } from '../../services/apihelper';\nimport ShowAnimal from './ShowAnimal';\nimport AddAnimal from '../Animals/AddAnimal';\nimport { Route, Link, withRouter } from 'react-router-dom';\n\nclass ProfileContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.pageSetup = async user => {\n      let animals;\n\n      if (user) {\n        animals = await fetchCrittersByUser(this.props.user.id);\n        animals.map(async animal => {\n          const animalDescription = await fetchCritterDescription(animal._id);\n          animal.description = animalDescription;\n          return animal;\n        });\n      }\n\n      console.log(animals);\n      this.setState({\n        animals\n      });\n    };\n\n    this.addAnimal = async (e, values) => {\n      e.preventDefault();\n      const newCritter = await addCritter(values, this.state.currentUser.id);\n      console.log(newCritter);\n      const animals = this.state.animals;\n      animals.push(newCritter.data);\n      this.setState({\n        animals\n      });\n      this.props.history.push('/profile');\n    };\n\n    this.deleteAnimal = async id => {\n      await deleteCritter(id);\n      this.props.history.push('/profile');\n    };\n\n    this.state = {\n      animals: null\n    };\n  }\n\n  async componentDidMount() {\n    const user = verifyUser();\n    this.pageSetup(user);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"animal-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/tigerrr.png\",\n      alt: \"link\",\n      width: \"15%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"Your Critters\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-animals-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-animal-show\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 20\n      }\n    }, this.state.animals && this.state.animals.map(critter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-animal-images\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 36\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/critter/show/${critter._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 75\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: critter.image,\n        alt: \"animal\",\n        className: \"animal-profile-image\",\n        width: \"50%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }\n      })));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-animals-add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"animal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, \"Have a new Critter to add to your menagerie?\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/create\",\n      className: \"profile-animal-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, \"New Critter\", /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/owl.png\",\n      alt: \"icon\",\n      width: \"15%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }))), this.props.user && /*#__PURE__*/React.createElement(Route, {\n      path: \"/create\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(AddAnimal, {\n          handleSubmit: this.addAnimal,\n          user: this.props.user.id,\n          animals: this.state.animals,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 40\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/critter/show/:id\",\n      render: props => {\n        return /*#__PURE__*/React.createElement(ShowAnimal, {\n          animals: this.state.animals,\n          id: props.match.params.id,\n          destroyAnimal: this.deleteAnimal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 32\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(ProfileContainer);","map":{"version":3,"sources":["C:/Users/TXY1572/darthsanity/capstone/frontend/react-paws-app/react-boilerplate/src/Components/Profiles/AnimalProfileContainer.js"],"names":["React","Component","fetchCrittersByUser","fetchCritterDescription","verifyUser","addCritter","deleteCritter","ShowAnimal","AddAnimal","Route","Link","withRouter","ProfileContainer","constructor","props","pageSetup","user","animals","id","map","animal","animalDescription","_id","description","console","log","setState","addAnimal","e","values","preventDefault","newCritter","state","currentUser","push","data","history","deleteAnimal","componentDidMount","render","critter","image","match","params"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { fetchCrittersByUser, fetchCritterDescription, verifyUser, addCritter, deleteCritter, } from '../../services/apihelper';\r\nimport ShowAnimal from './ShowAnimal';\r\nimport AddAnimal from '../Animals/AddAnimal'\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\n\r\nclass ProfileContainer extends Component {\r\n    constructor(props) {\r\n        super(props); \r\n\r\n        this.state={\r\n            animals: null,\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const user = verifyUser();\r\n        this.pageSetup(user);\r\n    }\r\n\r\n    pageSetup = async(user) => {\r\n        let animals;\r\n        if(user) {\r\n            animals = await (fetchCrittersByUser(this.props.user.id))\r\n            animals.map( async (animal) => {\r\n                const animalDescription = await(fetchCritterDescription(animal._id));\r\n                animal.description = animalDescription;\r\n                return animal\r\n            })\r\n        }\r\n        console.log(animals);\r\n         this.setState({\r\n             animals\r\n         })\r\n    }\r\n\r\n\r\n\r\n    addAnimal = async (e, values) => {\r\n      e.preventDefault();\r\n      const newCritter = await addCritter(values, this.state.currentUser.id);\r\n      console.log(newCritter);\r\n      const animals = this.state.animals;\r\n      animals.push(newCritter.data);\r\n      this.setState({\r\n        animals\r\n      })\r\n      this.props.history.push('/profile')\r\n    }\r\n\r\n    deleteAnimal = async (id) => {\r\n        await deleteCritter(id);\r\n        this.props.history.push('/profile')\r\n      }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"animal-container\">\r\n                <img src=\"/tigerrr.png\" alt=\"link\" width=\"15%\" />\r\n                <h2>Your Critters</h2>\r\n\r\n               <div className=\"profile-animals-main\">\r\n\r\n                   <div className=\"profile-animal-show\">\r\n                        {this.state.animals && this.state.animals.map(critter => {\r\n                            return <div className=\"profile-animal-images\"><Link to={`/critter/show/${critter._id}`}>\r\n                                        <img src={critter.image} alt=\"animal\" className=\"animal-profile-image\" width=\"50%\" /></Link>\r\n                                    </div>\r\n\r\n                            })}\r\n                    </div>\r\n\r\n                    <div className=\"profile-animals-add\">\r\n                        <div className=\"animal-title\">\r\n                            <p>Have a new Critter to add to your menagerie?</p>\r\n                        </div>\r\n                            <Link to='/create' className=\"profile-animal-link\">New Critter\r\n                            <img src=\"/owl.png\" alt=\"icon\" width=\"15%\" />\r\n                            </Link>\r\n                    </div>\r\n\r\n                    {this.props.user &&\r\n                    <Route path='/create' render={() => {\r\n                                return <AddAnimal handleSubmit={this.addAnimal}\r\n                                user={this.props.user.id} animals={this.state.animals}/>\r\n                    }}/>\r\n                    }\r\n\r\n                    <Route exact path='/critter/show/:id' render={(props) => {\r\n                        return <ShowAnimal animals={this.state.animals} id={props.match.params.id} destroyAnimal={this.deleteAnimal} />\r\n                    }}/>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ProfileContainer);\r\n"]},"metadata":{},"sourceType":"module"}