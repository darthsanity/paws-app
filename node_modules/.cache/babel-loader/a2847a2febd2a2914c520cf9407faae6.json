{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TXY1572\\\\darthsanity\\\\capstone\\\\frontend\\\\react-paws-app\\\\react-boilerplate\\\\src\\\\Components\\\\Profiles\\\\AnimalProfileContainer.js\";\nimport React, { Component } from 'react';\nimport { fetchCrittersByUser, fetchCritterDescription, verifyUser, addCritter, deleteCritter } from '../../services/apihelper';\nimport AnimalProfile from './AnimalProfile';\nimport AddAnimal from '../Animals/AddAnimal';\nimport { Route, Link, withRouter } from 'react-router-dom';\n\nclass ProfileContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.pageSetup = async user => {\n      let animals;\n\n      if (user) {\n        animals = await fetchCrittersByUser(this.props.user.id);\n        animals.map(async animal => {\n          const animalDescription = await fetchCritterDescription(animal._id);\n          animal.description = animalDescription;\n          return animal;\n        });\n      }\n\n      console.log(animals);\n      this.setState({\n        animals\n      });\n    };\n\n    this.addAnimal = async (e, values) => {\n      e.preventDefault();\n      const newCritter = await addCritter(values, this.state.currentUser.id);\n      console.log(newCritter);\n      const animals = this.state.animals;\n      animals.push(newCritter.data);\n      this.setState({\n        animals\n      });\n      this.props.history.push('/profile');\n    };\n\n    this.deleteAnimal = async id => {\n      await deleteCritter(id);\n      this.props.history.push('/profile');\n    };\n\n    this.state = {\n      animals: null\n    };\n  }\n\n  async componentDidMount() {\n    const user = verifyUser();\n    this.pageSetup(user);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"animal-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-animals-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Your Critters\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"Have a new Critter to add to your menagerie?\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/animal/create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, \"New Critter\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-animal-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, this.state.animals && this.state.animals.map(critter => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 40\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/animal/show/${critter._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: critter.image,\n        alt: \"animal\",\n        className: \"animal-profile-image\",\n        width: \"200px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 45\n        }\n      })));\n    })), this.props.user && /*#__PURE__*/React.createElement(Route, {\n      path: \"/animal/create\",\n      render: () => {\n        return /*#__PURE__*/React.createElement(AddAnimal, {\n          handleSubmit: this.addAnimal,\n          user: this.props.user.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 40\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/animal/show/:id\",\n      render: props => {\n        return /*#__PURE__*/React.createElement(AnimalProfile, {\n          animals: this.state.animals,\n          id: props.match.params.id,\n          destroyAnimal: this.deleteAnimal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 32\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.removeUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Remove Account\")));\n  }\n\n}\n\nexport default withRouter(ProfileContainer);","map":{"version":3,"sources":["C:/Users/TXY1572/darthsanity/capstone/frontend/react-paws-app/react-boilerplate/src/Components/Profiles/AnimalProfileContainer.js"],"names":["React","Component","fetchCrittersByUser","fetchCritterDescription","verifyUser","addCritter","deleteCritter","AnimalProfile","AddAnimal","Route","Link","withRouter","ProfileContainer","constructor","props","pageSetup","user","animals","id","map","animal","animalDescription","_id","description","console","log","setState","addAnimal","e","values","preventDefault","newCritter","state","currentUser","push","data","history","deleteAnimal","componentDidMount","render","critter","image","match","params","removeUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { fetchCrittersByUser, fetchCritterDescription, verifyUser, addCritter, deleteCritter, } from '../../services/apihelper';\r\nimport AnimalProfile from './AnimalProfile';\r\nimport AddAnimal from '../Animals/AddAnimal'\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\n\r\nclass ProfileContainer extends Component {\r\n    constructor(props) {\r\n        super(props); \r\n\r\n        this.state={\r\n            animals: null,\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const user = verifyUser();\r\n        this.pageSetup(user);\r\n    }\r\n\r\n    pageSetup = async(user) => {\r\n        let animals;\r\n        if(user) {\r\n            animals = await (fetchCrittersByUser(this.props.user.id))\r\n            animals.map( async (animal) => {\r\n                const animalDescription = await(fetchCritterDescription(animal._id));\r\n                animal.description = animalDescription;\r\n                return animal\r\n            })\r\n        }\r\n        console.log(animals);\r\n         this.setState({\r\n             animals\r\n         })\r\n    }\r\n\r\n\r\n\r\n    addAnimal = async (e, values) => {\r\n      e.preventDefault();\r\n      const newCritter = await addCritter(values, this.state.currentUser.id);\r\n      console.log(newCritter);\r\n      const animals = this.state.animals;\r\n      animals.push(newCritter.data);\r\n      this.setState({\r\n        animals\r\n      })\r\n      this.props.history.push('/profile')\r\n    }\r\n\r\n    deleteAnimal = async (id) => {\r\n        await deleteCritter(id);\r\n        this.props.history.push('/profile')\r\n      }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"animal-container\">\r\n               <div className=\"profile-animals-main\">\r\n\r\n                    <h2>Your Critters</h2>\r\n                    <p>Have a new Critter to add to your menagerie?</p>\r\n                    <Link to='/animal/create'>New Critter</Link>\r\n                        <div className=\"profile-animal-nav\">\r\n                            {this.state.animals && this.state.animals.map(critter => {\r\n                                return <div><Link to={`/animal/show/${critter._id}`}>\r\n                                            <img src={critter.image} alt=\"animal\" className=\"animal-profile-image\" width=\"200px\" /></Link>\r\n                                    </div>\r\n\r\n                            })}\r\n                        </div>\r\n                    {this.props.user &&\r\n                    <Route path='/animal/create' render={() => {\r\n                                return <AddAnimal handleSubmit={this.addAnimal}\r\n                                user={this.props.user.id}/>\r\n                    }}/>\r\n                    }\r\n\r\n                    <Route path='/animal/show/:id' render={(props) => {\r\n                        return <AnimalProfile animals={this.state.animals} id={props.match.params.id} destroyAnimal={this.deleteAnimal} />\r\n                    }}/>\r\n\r\n                </div>\r\n\r\n                <div className=\"profile-nav\">\r\n                    <button onClick={this.removeUser}>Remove Account</button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ProfileContainer);\r\n"]},"metadata":{},"sourceType":"module"}